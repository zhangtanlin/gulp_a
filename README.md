# gulp-server
```
使用gulp构建的静态服务脚手架【大番号项目】
```

### 目录结构
```
gulpfile.js        |- gulp的配置文件【*项目必有文件】
.gitignore         |- 需要忽略的文件
config.js          |- 配置文件（含有：版本号，cdn地址）【*项目关键目录】
host.json          |- 添加白名单目录【*项目关键目录】
files-version.json |- 引入路径需要的地址+版本号配置文件【运行 gulp 自动生成，无需改动】
package.json       |- 依赖配置【*gulp打包需要的依赖文件】
pages              |- 静态页面文件夹
                   | |- 静态html【可以是一个或者多个html文件】
                   |- static
                   | |- sass文件夹（目前该目录为一级目录）【自定义，注意：引入的图片的目录为相对路径】
                   | |- less文件夹（目前该目录为一级目录）【自定义，注意：引入的图片的目录为相对路径】
                   | |- js文件夹【自定义】
                   | |- 图片文件夹【目前该目录分为2级文件夹】
                   | | |- iconfont - 图标文件夹【自定义】
                   | | |- pc       - pc端图片文件夹【自定义】
                   | | |- mobile   - 移动端图片文件夹【自定义】
                   | |- css文件夹【该文件夹用作存放css文件和less/sass编译后的存放目录】
                   | | |- base.js         - 解密文件/白名单/防调试等【*项目必有文件，关键js文件】
                   | | |- mobile.js       - 移动端需要使用的js【自定义】
                   | | |- pc.js           - pc端需要使用的js【自定义】
                   | | |- verifyMobile.js - 验证是否为移动端{true:跳转移动端界面}【自定义】
                   | | |- verifyPc.js     - 验证是否为pc端{true:跳转pc端界面}【自定义】
                   | |- 静态资源文件夹【目前该目录分为2级文件夹】
                   | | |- swiper     - 滚动插件目录【自定义】
                   | | |- vue.min.js - vue插件【自定义】
dist               |- 打包后的文件夹
                   | |- static - 静态资源文件夹【上传资源服务器的文件夹】
                   | | |- css     - 打包后的css文件夹
                   | | |- js      - 打包后的js文件夹
                   | | |- images  - 打包后的图片文件夹
                   | | |- public  - 打包后的第三方资源
                   | | |- html    - 打包后的html文件夹
```
### 操作流程
```
一、前置操作，配置 cdn 地址：
  修改 js/base.js 文件夹内 getConfig 方法：
  （一）、配置版本号： version ，格式为"?v=1.0.1"；
  （二）、配置api接口地址（如果有请求后端接口，在此处进行配置）： api ，格式为"协议+域名1"；
  （三）、配置cdn地址（如果有请求后端接口，在此处进行配置）： api ，格式为"协议+域名1"；
  注意：建议地址统一尾部添加斜线，地址拼接时保持地址格式正确。
二、前置操作，配置 cdn 地址：
  （一）、修改 package.json 文件内 version 字段【强烈建议和 js/base.js 内的版本号一致】。
  （二）、修改 package.json 文件内 cdn 字段【强烈建议和 js/base.js 内的 cdn 地址一致】。
三、gulp 打包操作：
  运行 gulp 执行打包命令，生成 dist 目录。
四、上传资源服务器：
  把 dist/ 目录下的 static 文件夹上传到资源服务器指定目录（即配置的 cdn 地址目录）。
五、附加操作上传git。
```
### 注意事项
```
一、地址拼接
  地址名称需要为： 协议 + 域名 + 地址
  注意事项：
  （一）、协议可以为完整 https:// 和 http:// 或者 // 。
  （二）、域名末尾处建议添加 "/" 斜线 。
  （三）、地址开头，建议不添加 "/" 斜线。
二、 js 语法建议使用 es6 及以下，因为没有兼容 es7 （举例： async/await 不支持）。
三、 html 结构注意（根据业务需要）：
  （一）、需要在 head 内引入 base.js 内含解密等相关方法。
  （二）、需要在 head 内引入 设备判断文件 verify.js 。
  （三）、 html 内部引入的地址，需要为根路径（不建议添加 "/" 斜线）。
  （四）、 head 内相关地址采用跟路径，前面不加斜线很重要。
  （四）、 html 内可以使用 unicode 替代 ASC 码代关键字。
四、 css 内部引入图片字体等静态资源时使用相对路径（类似： ../../ ）。
五、命名规则：
  （一）、图片/字体等文件名一律采用下横线进行分割。
  （二）、 js 文件一律采用驼峰命名法。
  （三）、 css 文件建议采用驼峰命名法。
六、架构引入规则采用 common.js 规范（主要针对 gulp 相关文件编辑）。
七、html引入的目录路径是 static/ 格式（和 css 资源服务器的 static 文件夹对应）。
```
### 待补充
